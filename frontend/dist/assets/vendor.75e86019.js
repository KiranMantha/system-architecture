var kr=Object.defineProperty;var zn=Object.getOwnPropertySymbols;var Nr=Object.prototype.hasOwnProperty,Lr=Object.prototype.propertyIsEnumerable;var dn=(e,n,t)=>n in e?kr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Le=(e,n)=>{for(var t in n||(n={}))Nr.call(n,t)&&dn(e,t,n[t]);if(zn)for(var t of zn(n))Lr.call(n,t)&&dn(e,t,n[t]);return e};var J=(e,n,t)=>(dn(e,typeof n!="symbol"?n+"":n,t),t),Gn=(e,n,t)=>{if(!n.has(e))throw TypeError("Cannot "+t)};var R=(e,n,t)=>(Gn(e,n,"read from private field"),t?t.call(e):n.get(e)),we=(e,n,t)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,t)},Ee=(e,n,t,r)=>(Gn(e,n,"write to private field"),r?r.call(e,t):n.set(e,t),t);var vn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Bn(e){if(e.__esModule)return e;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var Dr={},Hn={},ee={};const De=new WeakMap;function Wr(e,n,t,r){return e.reverse().forEach(i=>{r=i(n,t,r)||r}),r}function $r(e,n){return e.reverse().forEach(t=>{const r=t(n);r&&(n=r)}),n}function Yn(e,n,t,r){if(!Array.isArray(e)||e.length===0)throw new TypeError;if(t!==void 0)return Wr(e,n,t,r);if(typeof n=="function")return $r(e,n)}function Jn(e,n){return De.get(e)&&De.get(e).get(n)}function We(e,n,t){if(n===void 0)throw new TypeError;const r=Jn(n,t);return r&&r.get(e)}function Vr(e,n){const t=De.get(e)||new Map;De.set(e,t);const r=t.get(n)||new Map;return t.set(n,r),r}function Qn(e,n,t,r){if(r&&!["string","symbol"].includes(typeof r))throw new TypeError;(Jn(t,r)||Vr(t,r)).set(e,n)}function hn(e,n,t){return We(e,n,t)?We(e,n,t):Object.getPrototypeOf(n)?hn(e,Object.getPrototypeOf(n),t):void 0}function Zn(e,n){return function(r,i){Qn(e,n,r,i)}}function Xn(e,n,t){return hn(e,n,t)}function Kn(e,n,t){return We(e,n,t)}function et(e,n,t){return!!We(e,n,t)}function nt(e,n,t){return!!hn(e,n,t)}function tt(e,n,t,r){Qn(e,n,t,r)}const rt={decorate:Yn,defineMetadata:tt,getMetadata:Xn,getOwnMetadata:Kn,hasMetadata:nt,hasOwnMetadata:et,metadata:Zn};Object.assign(Reflect,rt);var Ur=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",decorate:Yn,metadata:Zn,getMetadata:Xn,getOwnMetadata:Kn,hasOwnMetadata:et,hasMetadata:nt,defineMetadata:tt,Reflection:rt}),qr=Bn(Ur),Te={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.Injector=void 0;var ye,Fr;const zr=new(Fr=class{constructor(){we(this,ye,new Map)}register(e,n){if(!R(this,ye).get(e))R(this,ye).set(e,n);else throw Error(`${e} is already registered service.`)}getService(e){const n=R(this,ye).get(e);if(n)return n;throw Error(`${e} is not a registered provider.`)}clear(){Ee(this,ye,new Map)}},ye=new WeakMap,Fr);ae.Injector=zr;Object.defineProperty(Te,"__esModule",{value:!0});Te.instantiate=void 0;const Gr=ae,Br=(e,n,t)=>{const r=[];for(let i=0;i<n.length;i++)n[i]!=="Renderer"?r.push(Gr.Injector.getService(n[i])):r.push(t);return r.length>0?new e(...r):new e};Te.instantiate=Br;var $e={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});var Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr=typeof window!="undefined"&&typeof window.document!="undefined",Jr=typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null,Qr=(typeof self=="undefined"?"undefined":Hr(self))==="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",Zr=typeof window!="undefined"&&window.name==="nodejs"||typeof navigator!="undefined"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Xr=typeof Deno!="undefined"&&typeof Deno.core!="undefined";ce.isBrowser=Yr;ce.isWebWorker=Qr;ce.isNode=Jr;ce.isJsDom=Zr;ce.isDeno=Xr;var m={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(e){var n,t,r,i,o,u,a,c,s,l,y,h,b,f,d,_,T,I,O,N,U,W,Y,ne;(function(k){var ke=typeof vn=="object"?vn:typeof self=="object"?self:typeof this=="object"?this:{};k(Ne(ke,Ne(e.exports)));function Ne(v,p){return v!==ke&&(typeof Object.create=="function"?Object.defineProperty(v,"__esModule",{value:!0}):v.__esModule=!0),function(g,S){return v[g]=p?p(g,S):S}}})(function(k){var ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(v[g]=p[g])};n=function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");ke(v,p);function g(){this.constructor=v}v.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)},t=Object.assign||function(v){for(var p,g=1,S=arguments.length;g<S;g++){p=arguments[g];for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(v[A]=p[A])}return v},r=function(v,p){var g={};for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&p.indexOf(S)<0&&(g[S]=v[S]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,S=Object.getOwnPropertySymbols(v);A<S.length;A++)p.indexOf(S[A])<0&&Object.prototype.propertyIsEnumerable.call(v,S[A])&&(g[S[A]]=v[S[A]]);return g},i=function(v,p,g,S){var A=arguments.length,x=A<3?p:S===null?S=Object.getOwnPropertyDescriptor(p,g):S,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(v,p,g,S);else for(var L=v.length-1;L>=0;L--)(C=v[L])&&(x=(A<3?C(x):A>3?C(p,g,x):C(p,g))||x);return A>3&&x&&Object.defineProperty(p,g,x),x},o=function(v,p){return function(g,S){p(g,S,v)}},u=function(v,p){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(v,p)},a=function(v,p,g,S){function A(x){return x instanceof g?x:new g(function(C){C(x)})}return new(g||(g=Promise))(function(x,C){function L(H){try{M(S.next(H))}catch(be){C(be)}}function te(H){try{M(S.throw(H))}catch(be){C(be)}}function M(H){H.done?x(H.value):A(H.value).then(L,te)}M((S=S.apply(v,p||[])).next())})},c=function(v,p){var g={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},S,A,x,C;return C={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function L(M){return function(H){return te([M,H])}}function te(M){if(S)throw new TypeError("Generator is already executing.");for(;g;)try{if(S=1,A&&(x=M[0]&2?A.return:M[0]?A.throw||((x=A.return)&&x.call(A),0):A.next)&&!(x=x.call(A,M[1])).done)return x;switch(A=0,x&&(M=[M[0]&2,x.value]),M[0]){case 0:case 1:x=M;break;case 4:return g.label++,{value:M[1],done:!1};case 5:g.label++,A=M[1],M=[0];continue;case 7:M=g.ops.pop(),g.trys.pop();continue;default:if(x=g.trys,!(x=x.length>0&&x[x.length-1])&&(M[0]===6||M[0]===2)){g=0;continue}if(M[0]===3&&(!x||M[1]>x[0]&&M[1]<x[3])){g.label=M[1];break}if(M[0]===6&&g.label<x[1]){g.label=x[1],x=M;break}if(x&&g.label<x[2]){g.label=x[2],g.ops.push(M);break}x[2]&&g.ops.pop(),g.trys.pop();continue}M=p.call(v,g)}catch(H){M=[6,H],A=0}finally{S=x=0}if(M[0]&5)throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}},s=function(v,p){for(var g in v)g!=="default"&&!Object.prototype.hasOwnProperty.call(p,g)&&ne(p,v,g)},ne=Object.create?function(v,p,g,S){S===void 0&&(S=g),Object.defineProperty(v,S,{enumerable:!0,get:function(){return p[g]}})}:function(v,p,g,S){S===void 0&&(S=g),v[S]=p[g]},l=function(v){var p=typeof Symbol=="function"&&Symbol.iterator,g=p&&v[p],S=0;if(g)return g.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&S>=v.length&&(v=void 0),{value:v&&v[S++],done:!v}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},y=function(v,p){var g=typeof Symbol=="function"&&v[Symbol.iterator];if(!g)return v;var S=g.call(v),A,x=[],C;try{for(;(p===void 0||p-- >0)&&!(A=S.next()).done;)x.push(A.value)}catch(L){C={error:L}}finally{try{A&&!A.done&&(g=S.return)&&g.call(S)}finally{if(C)throw C.error}}return x},h=function(){for(var v=[],p=0;p<arguments.length;p++)v=v.concat(y(arguments[p]));return v},b=function(){for(var v=0,p=0,g=arguments.length;p<g;p++)v+=arguments[p].length;for(var S=Array(v),A=0,p=0;p<g;p++)for(var x=arguments[p],C=0,L=x.length;C<L;C++,A++)S[A]=x[C];return S},f=function(v,p,g){if(g||arguments.length===2)for(var S=0,A=p.length,x;S<A;S++)(x||!(S in p))&&(x||(x=Array.prototype.slice.call(p,0,S)),x[S]=p[S]);return v.concat(x||Array.prototype.slice.call(p))},d=function(v){return this instanceof d?(this.v=v,this):new d(v)},_=function(v,p,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S=g.apply(v,p||[]),A,x=[];return A={},C("next"),C("throw"),C("return"),A[Symbol.asyncIterator]=function(){return this},A;function C(z){S[z]&&(A[z]=function(ge){return new Promise(function(fn,Rr){x.push([z,ge,fn,Rr])>1||L(z,ge)})})}function L(z,ge){try{te(S[z](ge))}catch(fn){be(x[0][3],fn)}}function te(z){z.value instanceof d?Promise.resolve(z.value.v).then(M,H):be(x[0][2],z)}function M(z){L("next",z)}function H(z){L("throw",z)}function be(z,ge){z(ge),x.shift(),x.length&&L(x[0][0],x[0][1])}},T=function(v){var p,g;return p={},S("next"),S("throw",function(A){throw A}),S("return"),p[Symbol.iterator]=function(){return this},p;function S(A,x){p[A]=v[A]?function(C){return(g=!g)?{value:d(v[A](C)),done:A==="return"}:x?x(C):C}:x}},I=function(v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p=v[Symbol.asyncIterator],g;return p?p.call(v):(v=typeof l=="function"?l(v):v[Symbol.iterator](),g={},S("next"),S("throw"),S("return"),g[Symbol.asyncIterator]=function(){return this},g);function S(x){g[x]=v[x]&&function(C){return new Promise(function(L,te){C=v[x](C),A(L,te,C.done,C.value)})}}function A(x,C,L,te){Promise.resolve(te).then(function(M){x({value:M,done:L})},C)}},O=function(v,p){return Object.defineProperty?Object.defineProperty(v,"raw",{value:p}):v.raw=p,v};var Ne=Object.create?function(v,p){Object.defineProperty(v,"default",{enumerable:!0,value:p})}:function(v,p){v.default=p};N=function(v){if(v&&v.__esModule)return v;var p={};if(v!=null)for(var g in v)g!=="default"&&Object.prototype.hasOwnProperty.call(v,g)&&ne(p,v,g);return Ne(p,v),p},U=function(v){return v&&v.__esModule?v:{default:v}},W=function(v,p,g,S){if(g==="a"&&!S)throw new TypeError("Private accessor was defined without a getter");if(typeof p=="function"?v!==p||!S:!p.has(v))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?S:g==="a"?S.call(v):S?S.value:p.get(v)},Y=function(v,p,g,S,A){if(S==="m")throw new TypeError("Private method is not writable");if(S==="a"&&!A)throw new TypeError("Private accessor was defined without a setter");if(typeof p=="function"?v!==p||!A:!p.has(v))throw new TypeError("Cannot write private member to an object whose class did not declare it");return S==="a"?A.call(v,g):A?A.value=g:p.set(v,g),g},k("__extends",n),k("__assign",t),k("__rest",r),k("__decorate",i),k("__param",o),k("__metadata",u),k("__awaiter",a),k("__generator",c),k("__exportStar",s),k("__createBinding",ne),k("__values",l),k("__read",y),k("__spread",h),k("__spreadArrays",b),k("__spreadArray",f),k("__await",d),k("__asyncGenerator",_),k("__asyncDelegator",T),k("__asyncValues",I),k("__makeTemplateObject",O),k("__importStar",N),k("__importDefault",U),k("__classPrivateFieldGet",W),k("__classPrivateFieldSet",Y)})})(m);function j(e){return typeof e=="function"}function se(e){var n=function(r){Error.call(r),r.stack=new Error().stack},t=e(n);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ve=se(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function re(e,n){if(e){var t=e.indexOf(n);0<=t&&e.splice(t,1)}}var G=function(){function e(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var n,t,r,i,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var a=m.exports.__values(u),c=a.next();!c.done;c=a.next()){var s=c.value;s.remove(this)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(n)throw n.error}}else u.remove(this);var l=this.initialTeardown;if(j(l))try{l()}catch(d){o=d instanceof Ve?d.errors:[d]}var y=this._teardowns;if(y){this._teardowns=null;try{for(var h=m.exports.__values(y),b=h.next();!b.done;b=h.next()){var f=b.value;try{ut(f)}catch(d){o=o!=null?o:[],d instanceof Ve?o=m.exports.__spreadArray(m.exports.__spreadArray([],m.exports.__read(o)),m.exports.__read(d.errors)):o.push(d)}}}catch(d){r={error:d}}finally{try{b&&!b.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(o)throw new Ve(o)}},e.prototype.add=function(n){var t;if(n&&n!==this)if(this.closed)ut(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=(t=this._teardowns)!==null&&t!==void 0?t:[]).push(n)}},e.prototype._hasParent=function(n){var t=this._parentage;return t===n||Array.isArray(t)&&t.includes(n)},e.prototype._addParent=function(n){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n},e.prototype._removeParent=function(n){var t=this._parentage;t===n?this._parentage=null:Array.isArray(t)&&re(t,n)},e.prototype.remove=function(n){var t=this._teardowns;t&&re(t,n),n instanceof e&&n._removeParent(this)},e.EMPTY=function(){var n=new e;return n.closed=!0,n}(),e}(),it=G.EMPTY;function ot(e){return e instanceof G||e&&"closed"in e&&j(e.remove)&&j(e.add)&&j(e.unsubscribe)}function ut(e){j(e)?e():e.unsubscribe()}var oe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ue={setTimeout:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Ue.delegate;return((t==null?void 0:t.setTimeout)||setTimeout).apply(void 0,m.exports.__spreadArray([],m.exports.__read(e)))},clearTimeout:function(e){var n=Ue.delegate;return((n==null?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0};function at(e){Ue.setTimeout(function(){var n=oe.onUnhandledError;if(n)n(e);else throw e})}function D(){}var Kr=function(){return pn("C",void 0,void 0)}();function ei(e){return pn("E",void 0,e)}function ni(e){return pn("N",e,void 0)}function pn(e,n,t){return{kind:e,value:n,error:t}}var le=null;function qe(e){if(oe.useDeprecatedSynchronousErrorHandling){var n=!le;if(n&&(le={errorThrown:!1,error:null}),e(),n){var t=le,r=t.errorThrown,i=t.error;if(le=null,r)throw i}}else e()}function ti(e){oe.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=e)}var ze=function(e){m.exports.__extends(n,e);function n(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,ot(t)&&t.add(r)):r.destination=ri,r}return n.create=function(t,r,i){return new Ae(t,r,i)},n.prototype.next=function(t){this.isStopped?yn(ni(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?yn(ei(t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?yn(Kr,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(G),Ae=function(e){m.exports.__extends(n,e);function n(t,r,i){var o=e.call(this)||this,u;if(j(t))u=t;else if(t){u=t.next,r=t.error,i=t.complete;var a;o&&oe.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=function(){return o.unsubscribe()}):a=t,u=u==null?void 0:u.bind(a),r=r==null?void 0:r.bind(a),i=i==null?void 0:i.bind(a)}return o.destination={next:u?mn(u):D,error:mn(r!=null?r:ct),complete:i?mn(i):D},o}return n}(ze);function mn(e,n){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{e.apply(void 0,m.exports.__spreadArray([],m.exports.__read(t)))}catch(i){oe.useDeprecatedSynchronousErrorHandling?ti(i):at(i)}}}function ct(e){throw e}function yn(e,n){var t=oe.onStoppedNotification;t&&Ue.setTimeout(function(){return t(e,n)})}var ri={closed:!0,next:D,error:ct,complete:D},Ge=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function q(e){return e}function bn(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return st(e)}function st(e){return e.length===0?q:e.length===1?e[0]:function(t){return e.reduce(function(r,i){return i(r)},t)}}var F=function(){function e(n){n&&(this._subscribe=n)}return e.prototype.lift=function(n){var t=new e;return t.source=this,t.operator=n,t},e.prototype.subscribe=function(n,t,r){var i=this,o=oi(n)?n:new Ae(n,t,r);return qe(function(){var u=i,a=u.operator,c=u.source;o.add(a?a.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(t){n.error(t)}},e.prototype.forEach=function(n,t){var r=this;return t=lt(t),new t(function(i,o){var u=new Ae({next:function(a){try{n(a)}catch(c){o(c),u.unsubscribe()}},error:o,complete:i});r.subscribe(u)})},e.prototype._subscribe=function(n){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(n)},e.prototype[Ge]=function(){return this},e.prototype.pipe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return st(n)(this)},e.prototype.toPromise=function(n){var t=this;return n=lt(n),new n(function(r,i){var o;t.subscribe(function(u){return o=u},function(u){return i(u)},function(){return r(o)})})},e.create=function(n){return new e(n)},e}();function lt(e){var n;return(n=e!=null?e:oe.Promise)!==null&&n!==void 0?n:Promise}function ii(e){return e&&j(e.next)&&j(e.error)&&j(e.complete)}function oi(e){return e&&e instanceof ze||ii(e)&&ot(e)}function ft(e){return j(e==null?void 0:e.lift)}function E(e){return function(n){if(ft(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var w=function(e){m.exports.__extends(n,e);function n(t,r,i,o,u){var a=e.call(this,t)||this;return a.onFinalize=u,a._next=r?function(c){try{r(c)}catch(s){t.error(s)}}:e.prototype._next,a._error=o?function(c){try{o(c)}catch(s){t.error(s)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=i?function(){try{i()}catch(c){t.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,a}return n.prototype.unsubscribe=function(){var t,r=this.closed;e.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))},n}(ze);function dt(){return E(function(e,n){var t=null;e._refCount++;var r=new w(n,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){t=null;return}var i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var Be=function(e){m.exports.__extends(n,e);function n(t,r){var i=e.call(this)||this;return i.source=t,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,ft(t)&&(i.lift=t.lift),i}return n.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},n.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},n.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,t==null||t.unsubscribe()},n.prototype.connect=function(){var t=this,r=this._connection;if(!r){r=this._connection=new G;var i=this.getSubject();r.add(this.source.subscribe(new w(i,void 0,function(){t._teardown(),i.complete()},function(o){t._teardown(),i.error(o)},function(){return t._teardown()}))),r.closed&&(this._connection=null,r=G.EMPTY)}return r},n.prototype.refCount=function(){return dt()(this)},n}(F),vt={now:function(){return(vt.delegate||performance).now()},delegate:void 0},_e={schedule:function(e){var n=requestAnimationFrame,t=cancelAnimationFrame,r=_e.delegate;r&&(n=r.requestAnimationFrame,t=r.cancelAnimationFrame);var i=n(function(o){t=void 0,e(o)});return new G(function(){return t==null?void 0:t(i)})},requestAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=_e.delegate;return((t==null?void 0:t.requestAnimationFrame)||requestAnimationFrame).apply(void 0,m.exports.__spreadArray([],m.exports.__read(e)))},cancelAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=_e.delegate;return((t==null?void 0:t.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,m.exports.__spreadArray([],m.exports.__read(e)))},delegate:void 0};function ui(e){return e?ht(e):ai}function ht(e){var n=_e.schedule;return new F(function(t){var r=new G,i=e||vt,o=i.now(),u=function(a){var c=i.now();t.next({timestamp:e?c:a,elapsed:c-o}),t.closed||r.add(n(u))};return r.add(n(u)),r})}var ai=ht(),pt=se(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),V=function(e){m.exports.__extends(n,e);function n(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n.prototype.lift=function(t){var r=new mt(this,this);return r.operator=t,r},n.prototype._throwIfClosed=function(){if(this.closed)throw new pt},n.prototype.next=function(t){var r=this;qe(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){var u=r.observers.slice();try{for(var a=m.exports.__values(u),c=a.next();!c.done;c=a.next()){var s=c.value;s.next(t)}}catch(l){i={error:l}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},n.prototype.error=function(t){var r=this;qe(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var i=r.observers;i.length;)i.shift().error(t)}})},n.prototype.complete=function(){var t=this;qe(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},n.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},n.prototype._innerSubscribe=function(t){var r=this,i=r.hasError,o=r.isStopped,u=r.observers;return i||o?it:(u.push(t),new G(function(){return re(u,t)}))},n.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,o=r.thrownError,u=r.isStopped;i?t.error(o):u&&t.complete()},n.prototype.asObservable=function(){var t=new F;return t.source=this,t},n.create=function(t,r){return new mt(t,r)},n}(F),mt=function(e){m.exports.__extends(n,e);function n(t,r){var i=e.call(this)||this;return i.destination=t,i.source=r,i}return n.prototype.next=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,t)},n.prototype.error=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,t)},n.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},n.prototype._subscribe=function(t){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&i!==void 0?i:it},n}(V),yt=function(e){m.exports.__extends(n,e);function n(t){var r=e.call(this)||this;return r._value=t,r}return Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},n.prototype.getValue=function(){var t=this,r=t.hasError,i=t.thrownError,o=t._value;if(r)throw i;return this._throwIfClosed(),o},n.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},n}(V),He={now:function(){return(He.delegate||Date).now()},delegate:void 0},gn=function(e){m.exports.__extends(n,e);function n(t,r,i){t===void 0&&(t=1/0),r===void 0&&(r=1/0),i===void 0&&(i=He);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,r),o}return n.prototype.next=function(t){var r=this,i=r.isStopped,o=r._buffer,u=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;i||(o.push(t),!u&&o.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,t)},n.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(t),i=this,o=i._infiniteTimeWindow,u=i._buffer,a=u.slice(),c=0;c<a.length&&!t.closed;c+=o?1:2)t.next(a[c]);return this._checkFinalizedStatuses(t),r},n.prototype._trimBuffer=function(){var t=this,r=t._bufferSize,i=t._timestampProvider,o=t._buffer,u=t._infiniteTimeWindow,a=(u?1:2)*r;if(r<1/0&&a<o.length&&o.splice(0,o.length-a),!u){for(var c=i.now(),s=0,l=1;l<o.length&&o[l]<=c;l+=2)s=l;s&&o.splice(0,s+1)}},n}(V),wn=function(e){m.exports.__extends(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return n.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,o=r._hasValue,u=r._value,a=r.thrownError,c=r.isStopped,s=r._isComplete;i?t.error(a):(c||s)&&(o&&t.next(u),t.complete())},n.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},n.prototype.complete=function(){var t=this,r=t._hasValue,i=t._value,o=t._isComplete;o||(this._isComplete=!0,r&&e.prototype.next.call(this,i),e.prototype.complete.call(this))},n}(V),ci=function(e){m.exports.__extends(n,e);function n(t,r){return e.call(this)||this}return n.prototype.schedule=function(t,r){return this},n}(G),Ye={setInterval:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Ye.delegate;return((t==null?void 0:t.setInterval)||setInterval).apply(void 0,m.exports.__spreadArray([],m.exports.__read(e)))},clearInterval:function(e){var n=Ye.delegate;return((n==null?void 0:n.clearInterval)||clearInterval)(e)},delegate:void 0},Ie=function(e){m.exports.__extends(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return n.prototype.schedule=function(t,r){if(r===void 0&&(r=0),this.closed)return this;this.state=t;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},n.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),Ye.setInterval(t.flush.bind(t,this),i)},n.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;Ye.clearInterval(r)},n.prototype.execute=function(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,r){var i=!1,o;try{this.work(t)}catch(u){i=!0,o=u||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},n.prototype.unsubscribe=function(){if(!this.closed){var t=this,r=t.id,i=t.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,re(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},n}(ci),si=1,_n,Sn={};function bt(e){return e in Sn?(delete Sn[e],!0):!1}var gt={setImmediate:function(e){var n=si++;return Sn[n]=!0,_n||(_n=Promise.resolve()),_n.then(function(){return bt(n)&&e()}),n},clearImmediate:function(e){bt(e)}},li=gt.setImmediate,fi=gt.clearImmediate,Je={setImmediate:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Je.delegate;return((t==null?void 0:t.setImmediate)||li).apply(void 0,m.exports.__spreadArray([],m.exports.__read(e)))},clearImmediate:function(e){var n=Je.delegate;return((n==null?void 0:n.clearImmediate)||fi)(e)},delegate:void 0},di=function(e){m.exports.__extends(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return n.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,t,r,i):(t.actions.push(this),t._scheduled||(t._scheduled=Je.setImmediate(t.flush.bind(t,void 0))))},n.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,i);t.actions.some(function(o){return o.id===r})||(Je.clearImmediate(r),t._scheduled=void 0)},n}(Ie),xn=function(){function e(n,t){t===void 0&&(t=e.now),this.schedulerActionCtor=n,this.now=t}return e.prototype.schedule=function(n,t,r){return t===void 0&&(t=0),new this.schedulerActionCtor(this,n).schedule(r,t)},e.now=He.now,e}(),je=function(e){m.exports.__extends(n,e);function n(t,r){r===void 0&&(r=xn.now);var i=e.call(this,t,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return n.prototype.flush=function(t){var r=this.actions;if(this._active){r.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}},n}(xn),vi=function(e){m.exports.__extends(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.flush=function(t){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,o;t=t||i.shift();do if(o=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===r&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===r&&i.shift();)t.unsubscribe();throw o}},n}(je),wt=new vi(di),hi=wt,Q=new je(Ie),En=Q,pi=function(e){m.exports.__extends(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return n.prototype.schedule=function(t,r){return r===void 0&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},n.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},n.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,i):t.flush(this)},n}(Ie),mi=function(e){m.exports.__extends(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(je),_t=new mi(pi),yi=_t,bi=function(e){m.exports.__extends(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return n.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,t,r,i):(t.actions.push(this),t._scheduled||(t._scheduled=_e.requestAnimationFrame(function(){return t.flush(void 0)})))},n.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,i);t.actions.some(function(o){return o.id===r})||(_e.cancelAnimationFrame(r),t._scheduled=void 0)},n}(Ie),gi=function(e){m.exports.__extends(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.flush=function(t){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,o;t=t||i.shift();do if(o=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===r&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===r&&i.shift();)t.unsubscribe();throw o}},n}(je),St=new gi(bi),wi=St,_i=function(e){m.exports.__extends(n,e);function n(t,r){t===void 0&&(t=xt),r===void 0&&(r=1/0);var i=e.call(this,t,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return n.prototype.flush=function(){for(var t=this,r=t.actions,i=t.maxFrames,o,u;(u=r[0])&&u.delay<=i&&(r.shift(),this.frame=u.delay,!(o=u.execute(u.state,u.delay))););if(o){for(;u=r.shift();)u.unsubscribe();throw o}},n.frameTimeFactor=10,n}(je),xt=function(e){m.exports.__extends(n,e);function n(t,r,i){i===void 0&&(i=t.index+=1);var o=e.call(this,t,r)||this;return o.scheduler=t,o.work=r,o.index=i,o.active=!0,o.index=t.index=i,o}return n.prototype.schedule=function(t,r){if(r===void 0&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,t,r);this.active=!1;var i=new n(this.scheduler,this.work);return this.add(i),i.schedule(t,r)}else return G.EMPTY},n.prototype.requestAsyncId=function(t,r,i){i===void 0&&(i=0),this.delay=t.frame+i;var o=t.actions;return o.push(this),o.sort(n.sortActions),!0},n.prototype.recycleAsyncId=function(t,r,i){},n.prototype._execute=function(t,r){if(this.active===!0)return e.prototype._execute.call(this,t,r)},n.sortActions=function(t,r){return t.delay===r.delay?t.index===r.index?0:t.index>r.index?1:-1:t.delay>r.delay?1:-1},n}(Ie),Z=new F(function(e){return e.complete()});function Si(e){return e?xi(e):Z}function xi(e){return new F(function(n){return e.schedule(function(){return n.complete()})})}function Qe(e){return e&&j(e.schedule)}function Tn(e){return e[e.length-1]}function Oe(e){return j(Tn(e))?e.pop():void 0}function ie(e){return Qe(Tn(e))?e.pop():void 0}function Et(e,n){return typeof Tn(e)=="number"?e.pop():n}var An=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Tt(e){return j(e==null?void 0:e.then)}function At(e){return j(e[Ge])}function It(e){return Symbol.asyncIterator&&j(e==null?void 0:e[Symbol.asyncIterator])}function jt(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Ei(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ot=Ei();function Pt(e){return j(e==null?void 0:e[Ot])}function Ct(e){return m.exports.__asyncGenerator(this,arguments,function(){var t,r,i,o;return m.exports.__generator(this,function(u){switch(u.label){case 0:t=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,m.exports.__await(t.read())];case 3:return r=u.sent(),i=r.value,o=r.done,o?[4,m.exports.__await(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,m.exports.__await(i)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Mt(e){return j(e==null?void 0:e.getReader)}function P(e){if(e instanceof F)return e;if(e!=null){if(At(e))return Ti(e);if(An(e))return Ai(e);if(Tt(e))return Ii(e);if(It(e))return Ft(e);if(Pt(e))return ji(e);if(Mt(e))return Oi(e)}throw jt(e)}function Ti(e){return new F(function(n){var t=e[Ge]();if(j(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ai(e){return new F(function(n){for(var t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Ii(e){return new F(function(n){e.then(function(t){n.closed||(n.next(t),n.complete())},function(t){return n.error(t)}).then(null,at)})}function ji(e){return new F(function(n){var t,r;try{for(var i=m.exports.__values(e),o=i.next();!o.done;o=i.next()){var u=o.value;if(n.next(u),n.closed)return}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}n.complete()})}function Ft(e){return new F(function(n){Pi(e,n).catch(function(t){return n.error(t)})})}function Oi(e){return Ft(Ct(e))}function Pi(e,n){var t,r,i,o;return m.exports.__awaiter(this,void 0,void 0,function(){var u,a;return m.exports.__generator(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),t=m.exports.__asyncValues(e),c.label=1;case 1:return[4,t.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(u=r.value,n.next(u),n.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})}function B(e,n,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Ze(e,n){return n===void 0&&(n=0),E(function(t,r){t.subscribe(new w(r,function(i){return B(r,e,function(){return r.next(i)},n)},function(){return B(r,e,function(){return r.complete()},n)},function(i){return B(r,e,function(){return r.error(i)},n)}))})}function Xe(e,n){return n===void 0&&(n=0),E(function(t,r){r.add(e.schedule(function(){return t.subscribe(r)},n))})}function Ci(e,n){return P(e).pipe(Xe(n),Ze(n))}function Mi(e,n){return P(e).pipe(Xe(n),Ze(n))}function Fi(e,n){return new F(function(t){var r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Rt(e,n){return new F(function(t){var r;return B(t,n,function(){r=e[Ot](),B(t,n,function(){var i,o,u;try{i=r.next(),o=i.value,u=i.done}catch(a){t.error(a);return}u?t.complete():t.next(o)},0,!0)}),function(){return j(r==null?void 0:r.return)&&r.return()}})}function kt(e,n){if(!e)throw new Error("Iterable cannot be null");return new F(function(t){B(t,n,function(){var r=e[Symbol.asyncIterator]();B(t,n,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ri(e,n){return kt(Ct(e),n)}function Nt(e,n){if(e!=null){if(At(e))return Ci(e,n);if(An(e))return Fi(e,n);if(Tt(e))return Mi(e,n);if(It(e))return kt(e,n);if(Pt(e))return Rt(e,n);if(Mt(e))return Ri(e,n)}throw jt(e)}function X(e,n){return n?Nt(e,n):P(e)}function In(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=ie(e);return X(e,t)}function Lt(e,n){var t=j(e)?e:function(){return e},r=function(i){return i.error(t())};return new F(n?function(i){return n.schedule(r,0,i)}:r)}var jn;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(jn||(jn={}));var Ke=function(){function e(n,t,r){this.kind=n,this.value=t,this.error=r,this.hasValue=n==="N"}return e.prototype.observe=function(n){return Dt(this,n)},e.prototype.do=function(n,t,r){var i=this,o=i.kind,u=i.value,a=i.error;return o==="N"?n==null?void 0:n(u):o==="E"?t==null?void 0:t(a):r==null?void 0:r()},e.prototype.accept=function(n,t,r){var i;return j((i=n)===null||i===void 0?void 0:i.next)?this.observe(n):this.do(n,t,r)},e.prototype.toObservable=function(){var n=this,t=n.kind,r=n.value,i=n.error,o=t==="N"?In(r):t==="E"?Lt(function(){return i}):t==="C"?Z:0;if(!o)throw new TypeError("Unexpected notification kind "+t);return o},e.createNext=function(n){return new e("N",n)},e.createError=function(n){return new e("E",void 0,n)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function Dt(e,n){var t,r,i,o=e,u=o.kind,a=o.value,c=o.error;if(typeof u!="string")throw new TypeError('Invalid notification, missing "kind"');u==="N"?(t=n.next)===null||t===void 0||t.call(n,a):u==="E"?(r=n.error)===null||r===void 0||r.call(n,c):(i=n.complete)===null||i===void 0||i.call(n)}function ki(e){return!!e&&(e instanceof F||j(e.lift)&&j(e.subscribe))}var fe=se(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Ni(e,n){var t=typeof n=="object";return new Promise(function(r,i){var o=!1,u;e.subscribe({next:function(a){u=a,o=!0},error:i,complete:function(){o?r(u):t?r(n.defaultValue):i(new fe)}})})}function Li(e,n){var t=typeof n=="object";return new Promise(function(r,i){var o=new Ae({next:function(u){r(u),o.unsubscribe()},error:i,complete:function(){t?r(n.defaultValue):i(new fe)}});e.subscribe(o)})}var On=se(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),Wt=se(function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}}),$t=se(function(e){return function(t){e(this),this.name="SequenceError",this.message=t}});function Pn(e){return e instanceof Date&&!isNaN(e)}var Vt=se(function(e){return function(t){t===void 0&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function Ut(e,n){var t=Pn(e)?{first:e}:typeof e=="number"?{each:e}:e,r=t.first,i=t.each,o=t.with,u=o===void 0?Di:o,a=t.scheduler,c=a===void 0?n!=null?n:Q:a,s=t.meta,l=s===void 0?null:s;if(r==null&&i==null)throw new TypeError("No timeout provided.");return E(function(y,h){var b,f,d=null,_=0,T=function(I){f=B(h,c,function(){try{b.unsubscribe(),P(u({meta:l,lastValue:d,seen:_})).subscribe(h)}catch(O){h.error(O)}},I)};b=y.subscribe(new w(h,function(I){f==null||f.unsubscribe(),_++,h.next(d=I),i>0&&T(i)},void 0,void 0,function(){(f==null?void 0:f.closed)||f==null||f.unsubscribe(),d=null})),T(r!=null?typeof r=="number"?r:+r-c.now():i)})}function Di(e){throw new Vt(e)}function ue(e,n){return E(function(t,r){var i=0;t.subscribe(new w(r,function(o){r.next(e.call(n,o,i++))}))})}var Wi=Array.isArray;function $i(e,n){return Wi(n)?e.apply(void 0,m.exports.__spreadArray([],m.exports.__read(n))):e(n)}function de(e){return ue(function(n){return $i(e,n)})}function en(e,n,t,r){if(t)if(Qe(t))r=t;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return en(e,n,r).apply(this,i).pipe(de(t))};return r?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return en(e,n).apply(this,i).pipe(Xe(r),Ze(r))}:function(){for(var i=this,o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var a=new wn,c=!0;return new F(function(s){var l=a.subscribe(s);if(c){c=!1;var y=!1,h=!1;n.apply(i,m.exports.__spreadArray(m.exports.__spreadArray([],m.exports.__read(o)),[function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];if(e){var d=b.shift();if(d!=null){a.error(d);return}}a.next(1<b.length?b:b[0]),h=!0,y&&a.complete()}])),h&&a.complete(),y=!0}return l})}}function Vi(e,n,t){return en(!1,e,n,t)}function Ui(e,n,t){return en(!0,e,n,t)}var qi=Array.isArray,zi=Object.getPrototypeOf,Gi=Object.prototype,Bi=Object.keys;function qt(e){if(e.length===1){var n=e[0];if(qi(n))return{args:n,keys:null};if(Hi(n)){var t=Bi(n);return{args:t.map(function(r){return n[r]}),keys:t}}}return{args:e,keys:null}}function Hi(e){return e&&typeof e=="object"&&zi(e)===Gi}function zt(e,n){return e.reduce(function(t,r,i){return t[r]=n[i],t},{})}function Gt(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=ie(e),r=Oe(e),i=qt(e),o=i.args,u=i.keys;if(o.length===0)return X([],t);var a=new F(Bt(o,t,u?function(c){return zt(u,c)}:q));return r?a.pipe(de(r)):a}function Bt(e,n,t){return t===void 0&&(t=q),function(r){Ht(n,function(){for(var i=e.length,o=new Array(i),u=i,a=i,c=function(l){Ht(n,function(){var y=X(e[l],n),h=!1;y.subscribe(new w(r,function(b){o[l]=b,h||(h=!0,a--),a||r.next(t(o.slice()))},function(){--u||r.complete()}))},r)},s=0;s<i;s++)c(s)},r)}}function Ht(e,n,t){e?B(t,e,n):n()}function Cn(e,n,t,r,i,o,u,a){var c=[],s=0,l=0,y=!1,h=function(){y&&!c.length&&!s&&n.complete()},b=function(d){return s<r?f(d):c.push(d)},f=function(d){o&&n.next(d),s++;var _=!1;P(t(d,l++)).subscribe(new w(n,function(T){i==null||i(T),o?b(T):n.next(T)},function(){_=!0},void 0,function(){if(_)try{s--;for(var T=function(){var I=c.shift();u?B(n,u,function(){return f(I)}):f(I)};c.length&&s<r;)T();h()}catch(I){n.error(I)}}))};return e.subscribe(new w(n,b,function(){y=!0,h()})),function(){a==null||a()}}function K(e,n,t){return t===void 0&&(t=1/0),j(n)?K(function(r,i){return ue(function(o,u){return n(r,o,i,u)})(P(e(r,i)))},t):(typeof n=="number"&&(t=n),E(function(r,i){return Cn(r,i,e,t)}))}function nn(e){return e===void 0&&(e=1/0),K(q,e)}function Mn(){return nn(1)}function Pe(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Mn()(X(e,ie(e)))}function Ce(e){return new F(function(n){P(e()).subscribe(n)})}var Yi={connector:function(){return new V},resetOnDisconnect:!0};function Ji(e,n){n===void 0&&(n=Yi);var t=null,r=n.connector,i=n.resetOnDisconnect,o=i===void 0?!0:i,u=r(),a=new F(function(c){return u.subscribe(c)});return a.connect=function(){return(!t||t.closed)&&(t=Ce(function(){return e}).subscribe(u),o&&t.add(function(){return u=r()})),t},a}function Qi(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Oe(e),r=qt(e),i=r.args,o=r.keys,u=new F(function(a){var c=i.length;if(!c){a.complete();return}for(var s=new Array(c),l=c,y=c,h=function(f){var d=!1;P(i[f]).subscribe(new w(a,function(_){d||(d=!0,y--),s[f]=_},function(){return l--},void 0,function(){(!l||!d)&&(y||a.next(o?zt(o,s):s),a.complete())}))},b=0;b<c;b++)h(b)});return t?u.pipe(de(t)):u}var Zi=["addListener","removeListener"],Xi=["addEventListener","removeEventListener"],Ki=["on","off"];function Fn(e,n,t,r){if(j(t)&&(r=t,t=void 0),r)return Fn(e,n,t).pipe(de(r));var i=m.exports.__read(to(e)?Xi.map(function(a){return function(c){return e[a](n,c,t)}}):eo(e)?Zi.map(Yt(e,n)):no(e)?Ki.map(Yt(e,n)):[],2),o=i[0],u=i[1];if(!o&&An(e))return K(function(a){return Fn(a,n,t)})(P(e));if(!o)throw new TypeError("Invalid event target");return new F(function(a){var c=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return a.next(1<s.length?s:s[0])};return o(c),function(){return u(c)}})}function Yt(e,n){return function(t){return function(r){return e[t](n,r)}}}function eo(e){return j(e.addListener)&&j(e.removeListener)}function no(e){return j(e.on)&&j(e.off)}function to(e){return j(e.addEventListener)&&j(e.removeEventListener)}function Jt(e,n,t){return t?Jt(e,n).pipe(de(t)):new F(function(r){var i=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];return r.next(u.length===1?u[0]:u)},o=e(i);return j(n)?function(){return n(i,o)}:void 0})}function ro(e,n,t,r,i){var o,u,a,c;arguments.length===1?(o=e,c=o.initialState,n=o.condition,t=o.iterate,u=o.resultSelector,a=u===void 0?q:u,i=o.scheduler):(c=e,!r||Qe(r)?(a=q,i=r):a=r);function s(){var l;return m.exports.__generator(this,function(y){switch(y.label){case 0:l=c,y.label=1;case 1:return!n||n(l)?[4,a(l)]:[3,4];case 2:y.sent(),y.label=3;case 3:return l=t(l),[3,1];case 4:return[2]}})}return Ce(i?function(){return Rt(s(),i)}:s)}function io(e,n,t){return Ce(function(){return e()?n:t})}function ve(e,n,t){e===void 0&&(e=0),t===void 0&&(t=En);var r=-1;return n!=null&&(Qe(n)?t=n:r=n),new F(function(i){var o=Pn(e)?+e-t.now():e;o<0&&(o=0);var u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Qt(e,n){return e===void 0&&(e=0),n===void 0&&(n=Q),e<0&&(e=0),ve(e,e,n)}function oo(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=ie(e),r=Et(e,1/0),i=e;return i.length?i.length===1?P(i[0]):nn(r)(X(i,t)):Z}var Zt=new F(D);function uo(){return Zt}var ao=Array.isArray;function Se(e){return e.length===1&&ao(e[0])?e[0]:e}function co(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Se(e);return E(function(r,i){var o=m.exports.__spreadArray([r],m.exports.__read(t)),u=function(){if(!i.closed)if(o.length>0){var a=void 0;try{a=P(o.shift())}catch{u();return}var c=new w(i,void 0,D,D);i.add(a.subscribe(c)),c.add(u)}else i.complete()};u()})}function so(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return co(Se(e))(Z)}function lo(e,n){return X(Object.entries(e),n)}function fo(e,n){return function(t,r){return!e.call(n,t,r)}}function he(e,n){return E(function(t,r){var i=0;t.subscribe(new w(r,function(o){return e.call(n,o,i++)&&r.next(o)}))})}function vo(e,n,t){return[he(n,t)(P(e)),he(fo(n,t))(P(e))]}function ho(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e=Se(e),e.length===1?P(e[0]):new F(Xt(e))}function Xt(e){return function(n){for(var t=[],r=function(o){t.push(P(e[o]).subscribe(new w(n,function(u){if(t){for(var a=0;a<t.length;a++)a!==o&&t[a].unsubscribe();t=null}n.next(u)})))},i=0;t&&!n.closed&&i<e.length;i++)r(i)}}function po(e,n,t){if(n==null&&(n=e,e=0),n<=0)return Z;var r=n+e;return new F(t?function(i){var o=e;return t.schedule(function(){o<r?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=e;o<r&&!i.closed;)i.next(o++);i.complete()})}function mo(e,n){return new F(function(t){var r=e(),i=n(r),o=i?P(i):Z;return o.subscribe(t),function(){r&&r.unsubscribe()}})}function Rn(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Oe(e),r=Se(e);return r.length?new F(function(i){var o=r.map(function(){return[]}),u=r.map(function(){return!1});i.add(function(){o=u=null});for(var a=function(s){P(r[s]).subscribe(new w(i,function(l){if(o[s].push(l),o.every(function(h){return h.length})){var y=o.map(function(h){return h.shift()});i.next(t?t.apply(void 0,m.exports.__spreadArray([],m.exports.__read(y))):y),o.some(function(h,b){return!h.length&&u[b]})&&i.complete()}},function(){u[s]=!0,!o[s].length&&i.complete()}))},c=0;!i.closed&&c<r.length;c++)a(c);return function(){o=u=null}}):Z}function Kt(e){return E(function(n,t){var r=!1,i=null,o=null,u=!1,a=function(){if(o==null||o.unsubscribe(),o=null,r){r=!1;var s=i;i=null,t.next(s)}u&&t.complete()},c=function(){o=null,u&&t.complete()};n.subscribe(new w(t,function(s){r=!0,i=s,o||P(e(s)).subscribe(o=new w(t,a,c))},function(){u=!0,(!r||!o||o.closed)&&t.complete()}))})}function yo(e,n){return n===void 0&&(n=Q),Kt(function(){return ve(e,n)})}function bo(e){return E(function(n,t){var r=[];return n.subscribe(new w(t,function(i){return r.push(i)},function(){t.next(r),t.complete()})),e.subscribe(new w(t,function(){var i=r;r=[],t.next(i)},D)),function(){r=null}})}function go(e,n){return n===void 0&&(n=null),n=n!=null?n:e,E(function(t,r){var i=[],o=0;t.subscribe(new w(r,function(u){var a,c,s,l,y=null;o++%n==0&&i.push([]);try{for(var h=m.exports.__values(i),b=h.next();!b.done;b=h.next()){var f=b.value;f.push(u),e<=f.length&&(y=y!=null?y:[],y.push(f))}}catch(T){a={error:T}}finally{try{b&&!b.done&&(c=h.return)&&c.call(h)}finally{if(a)throw a.error}}if(y)try{for(var d=m.exports.__values(y),_=d.next();!_.done;_=d.next()){var f=_.value;re(i,f),r.next(f)}}catch(T){s={error:T}}finally{try{_&&!_.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}},function(){var u,a;try{for(var c=m.exports.__values(i),s=c.next();!s.done;s=c.next()){var l=s.value;r.next(l)}}catch(y){u={error:y}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(u)throw u.error}}r.complete()},void 0,function(){i=null}))})}function wo(e){for(var n,t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=(n=ie(r))!==null&&n!==void 0?n:Q,u=(t=r[0])!==null&&t!==void 0?t:null,a=r[1]||1/0;return E(function(c,s){var l=[],y=!1,h=function(d){var _=d.buffer,T=d.subs;T.unsubscribe(),re(l,d),s.next(_),y&&b()},b=function(){if(l){var d=new G;s.add(d);var _=[],T={buffer:_,subs:d};l.push(T),B(d,o,function(){return h(T)},e)}};u!==null&&u>=0?B(s,o,b,u,!0):y=!0,b();var f=new w(s,function(d){var _,T,I=l.slice();try{for(var O=m.exports.__values(I),N=O.next();!N.done;N=O.next()){var U=N.value,W=U.buffer;W.push(d),a<=W.length&&h(U)}}catch(Y){_={error:Y}}finally{try{N&&!N.done&&(T=O.return)&&T.call(O)}finally{if(_)throw _.error}}},function(){for(;l==null?void 0:l.length;)s.next(l.shift().buffer);f==null||f.unsubscribe(),s.complete(),s.unsubscribe()},void 0,function(){return l=null});c.subscribe(f)})}function _o(e,n){return E(function(t,r){var i=[];P(e).subscribe(new w(r,function(o){var u=[];i.push(u);var a=new G,c=function(){re(i,u),r.next(u),a.unsubscribe()};a.add(P(n(o)).subscribe(new w(r,c,D)))},D)),t.subscribe(new w(r,function(o){var u,a;try{for(var c=m.exports.__values(i),s=c.next();!s.done;s=c.next()){var l=s.value;l.push(o)}}catch(y){u={error:y}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(u)throw u.error}}},function(){for(;i.length>0;)r.next(i.shift());r.complete()}))})}function So(e){return E(function(n,t){var r=null,i=null,o=function(){i==null||i.unsubscribe();var u=r;r=[],u&&t.next(u),P(e()).subscribe(i=new w(t,o,D))};o(),n.subscribe(new w(t,function(u){return r==null?void 0:r.push(u)},function(){r&&t.next(r),t.complete()},void 0,function(){return r=i=null}))})}function er(e){return E(function(n,t){var r=null,i=!1,o;r=n.subscribe(new w(t,void 0,void 0,function(u){o=P(e(u,er(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function nr(e,n,t,r,i){return function(o,u){var a=t,c=n,s=0;o.subscribe(new w(u,function(l){var y=s++;c=a?e(c,l,y):(a=!0,l),r&&u.next(c)},i&&function(){a&&u.next(c),u.complete()}))}}function Me(e,n){return E(nr(e,n,arguments.length>=2,!1,!0))}var xo=function(e,n){return e.push(n),e};function tr(){return E(function(e,n){Me(xo,[])(e).subscribe(n)})}function rr(e,n){return bn(tr(),K(function(t){return e(t)}),n?de(n):q)}function ir(e){return rr(Gt,e)}var Eo=ir;function or(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Oe(e);return t?bn(or.apply(void 0,m.exports.__spreadArray([],m.exports.__read(e))),de(t)):E(function(r,i){Bt(m.exports.__spreadArray([r],m.exports.__read(Se(e))))(i)})}function To(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return or.apply(void 0,m.exports.__spreadArray([],m.exports.__read(e)))}function kn(e,n){return j(n)?K(e,n,1):K(e,1)}function Ao(e,n){return j(n)?kn(function(){return e},n):kn(function(){return e})}function Io(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=ie(e);return E(function(r,i){Mn()(X(m.exports.__spreadArray([r],m.exports.__read(e)),t)).subscribe(i)})}function jo(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Io.apply(void 0,m.exports.__spreadArray([],m.exports.__read(e)))}function Oo(e){return new F(function(n){return e.subscribe(n)})}var Po={connector:function(){return new V}};function Nn(e,n){n===void 0&&(n=Po);var t=n.connector;return E(function(r,i){var o=t();X(e(Oo(o))).subscribe(i),i.add(r.subscribe(o))})}function Co(e){return Me(function(n,t,r){return!e||e(t,r)?n+1:n},0)}function Mo(e){return E(function(n,t){var r=!1,i=null,o=null,u=function(){if(o==null||o.unsubscribe(),o=null,r){r=!1;var a=i;i=null,t.next(a)}};n.subscribe(new w(t,function(a){o==null||o.unsubscribe(),r=!0,i=a,o=new w(t,u,D),P(e(a)).subscribe(o)},function(){u(),t.complete()},void 0,function(){i=o=null}))})}function Fo(e,n){return n===void 0&&(n=Q),E(function(t,r){var i=null,o=null,u=null,a=function(){if(i){i.unsubscribe(),i=null;var s=o;o=null,r.next(s)}};function c(){var s=u+e,l=n.now();if(l<s){i=this.schedule(void 0,s-l),r.add(i);return}a()}t.subscribe(new w(r,function(s){o=s,u=n.now(),i||(i=n.schedule(c,e),r.add(i))},function(){a(),r.complete()},void 0,function(){o=i=null}))})}function tn(e){return E(function(n,t){var r=!1;n.subscribe(new w(t,function(i){r=!0,t.next(i)},function(){r||t.next(e),t.complete()}))})}function xe(e){return e<=0?function(){return Z}:E(function(n,t){var r=0;n.subscribe(new w(t,function(i){++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function ur(){return E(function(e,n){e.subscribe(new w(n,D))})}function ar(e){return ue(function(){return e})}function Ln(e,n){return n?function(t){return Pe(n.pipe(xe(1),ur()),t.pipe(Ln(e)))}:K(function(t,r){return e(t,r).pipe(xe(1),ar(t))})}function Ro(e,n){n===void 0&&(n=Q);var t=ve(e,n);return Ln(function(){return t})}function ko(){return E(function(e,n){e.subscribe(new w(n,function(t){return Dt(t,n)}))})}function No(e,n){return E(function(t,r){var i=new Set;t.subscribe(new w(r,function(o){var u=e?e(o):o;i.has(u)||(i.add(u),r.next(o))})),n==null||n.subscribe(new w(r,function(){return i.clear()},D))})}function cr(e,n){return n===void 0&&(n=q),e=e!=null?e:Lo,E(function(t,r){var i,o=!0;t.subscribe(new w(r,function(u){var a=n(u);(o||!e(i,a))&&(o=!1,i=a,r.next(u))}))})}function Lo(e,n){return e===n}function Do(e,n){return cr(function(t,r){return n?n(t[e],r[e]):t[e]===r[e]})}function rn(e){return e===void 0&&(e=Wo),E(function(n,t){var r=!1;n.subscribe(new w(t,function(i){r=!0,t.next(i)},function(){return r?t.complete():t.error(e())}))})}function Wo(){return new fe}function $o(e,n){if(e<0)throw new On;var t=arguments.length>=2;return function(r){return r.pipe(he(function(i,o){return o===e}),xe(1),t?tn(n):rn(function(){return new On}))}}function Vo(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(t){return Pe(t,In.apply(void 0,m.exports.__spreadArray([],m.exports.__read(e))))}}function Uo(e,n){return E(function(t,r){var i=0;t.subscribe(new w(r,function(o){e.call(n,o,i++,t)||(r.next(!1),r.complete())},function(){r.next(!0),r.complete()}))})}function sr(){return E(function(e,n){var t=!1,r=null;e.subscribe(new w(n,function(i){r||(r=P(i).subscribe(new w(n,void 0,function(){r=null,t&&n.complete()})))},function(){t=!0,!r&&n.complete()}))})}var qo=sr;function lr(e,n){return n?function(t){return t.pipe(lr(function(r,i){return P(e(r,i)).pipe(ue(function(o,u){return n(r,o,i,u)}))}))}:E(function(t,r){var i=0,o=null,u=!1;t.subscribe(new w(r,function(a){o||(o=new w(r,void 0,function(){o=null,u&&r.complete()}),P(e(a,i++)).subscribe(o))},function(){u=!0,!o&&r.complete()}))})}function zo(e,n,t){return n===void 0&&(n=1/0),n=(n||0)<1?1/0:n,E(function(r,i){return Cn(r,i,e,n,void 0,!0,t)})}function Go(e){return E(function(n,t){try{n.subscribe(t)}finally{t.add(e)}})}function Bo(e,n){return E(fr(e,n,"value"))}function fr(e,n,t){var r=t==="index";return function(i,o){var u=0;i.subscribe(new w(o,function(a){var c=u++;e.call(n,a,c,i)&&(o.next(r?c:a),o.complete())},function(){o.next(r?-1:void 0),o.complete()}))}}function Ho(e,n){return E(fr(e,n,"index"))}function Yo(e,n){var t=arguments.length>=2;return function(r){return r.pipe(e?he(function(i,o){return e(i,o,r)}):q,xe(1),t?tn(n):rn(function(){return new fe}))}}function Jo(e,n,t,r){return E(function(i,o){var u;!n||typeof n=="function"?u=n:(t=n.duration,u=n.element,r=n.connector);var a=new Map,c=function(h){a.forEach(h),h(o)},s=function(h){return c(function(b){return b.error(h)})},l=new Qo(o,function(h){try{var b=e(h),f=a.get(b);if(!f){a.set(b,f=r?r():new V);var d=y(b,f);if(o.next(d),t){var _=new w(f,function(){f.complete(),_==null||_.unsubscribe()},void 0,void 0,function(){return a.delete(b)});l.add(P(t(d)).subscribe(_))}}f.next(u?u(h):h)}catch(T){s(T)}},function(){return c(function(h){return h.complete()})},s,function(){return a.clear()});i.subscribe(l);function y(h,b){var f=new F(function(d){l.activeGroups++;var _=b.subscribe(d);return function(){_.unsubscribe(),--l.activeGroups==0&&l.teardownAttempted&&l.unsubscribe()}});return f.key=h,f}})}var Qo=function(e){m.exports.__extends(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.activeGroups=0,t.teardownAttempted=!1,t}return n.prototype.unsubscribe=function(){this.teardownAttempted=!0,this.activeGroups===0&&e.prototype.unsubscribe.call(this)},n}(w);function Zo(){return E(function(e,n){e.subscribe(new w(n,function(){n.next(!1),n.complete()},function(){n.next(!0),n.complete()}))})}function dr(e){return e<=0?function(){return Z}:E(function(n,t){var r=[];n.subscribe(new w(t,function(i){r.push(i),e<r.length&&r.shift()},function(){var i,o;try{for(var u=m.exports.__values(r),a=u.next();!a.done;a=u.next()){var c=a.value;t.next(c)}}catch(s){i={error:s}}finally{try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}t.complete()},void 0,function(){r=null}))})}function Xo(e,n){var t=arguments.length>=2;return function(r){return r.pipe(e?he(function(i,o){return e(i,o,r)}):q,dr(1),t?tn(n):rn(function(){return new fe}))}}function Ko(){return E(function(e,n){e.subscribe(new w(n,function(t){n.next(Ke.createNext(t))},function(){n.next(Ke.createComplete()),n.complete()},function(t){n.next(Ke.createError(t)),n.complete()}))})}function eu(e){return Me(j(e)?function(n,t){return e(n,t)>0?n:t}:function(n,t){return n>t?n:t})}var nu=K;function tu(e,n,t){return t===void 0&&(t=1/0),j(n)?K(function(){return e},n,t):(typeof n=="number"&&(t=n),K(function(){return e},t))}function ru(e,n,t){return t===void 0&&(t=1/0),E(function(r,i){var o=n;return Cn(r,i,function(u,a){return e(o,u,a)},t,function(u){o=u},!1,void 0,function(){return o=null})})}function iu(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=ie(e),r=Et(e,1/0);return e=Se(e),E(function(i,o){nn(r)(X(m.exports.__spreadArray([i],m.exports.__read(e)),t)).subscribe(o)})}function ou(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return iu.apply(void 0,m.exports.__spreadArray([],m.exports.__read(e)))}function uu(e){return Me(j(e)?function(n,t){return e(n,t)<0?n:t}:function(n,t){return n<t?n:t})}function Dn(e,n){var t=j(e)?e:function(){return e};return j(n)?Nn(n,{connector:t}):function(r){return new Be(r,t)}}function au(){return E(function(e,n){var t,r=!1;e.subscribe(new w(n,function(i){var o=t;t=i,r&&n.next([o,i]),r=!0}))})}function cu(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=e.length;if(t===0)throw new Error("list of properties cannot be empty.");return ue(function(r){for(var i=r,o=0;o<t;o++){var u=i==null?void 0:i[e[o]];if(typeof u!="undefined")i=u;else return}return i})}function su(e){return e?function(n){return Nn(e)(n)}:function(n){return Dn(new V)(n)}}function lu(e){return function(n){var t=new yt(e);return new Be(n,function(){return t})}}function fu(){return function(e){var n=new wn;return new Be(e,function(){return n})}}function du(e,n,t,r){t&&!j(t)&&(r=t);var i=j(t)?t:void 0;return function(o){return Dn(new gn(e,n,r),i)(o)}}function vu(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length?E(function(t,r){Xt(m.exports.__spreadArray([t],m.exports.__read(e)))(r)}):q}function hu(e){var n,t=1/0,r;return e!=null&&(typeof e=="object"?(n=e.count,t=n===void 0?1/0:n,r=e.delay):t=e),t<=0?function(){return Z}:E(function(i,o){var u=0,a,c=function(){if(a==null||a.unsubscribe(),a=null,r!=null){var l=typeof r=="number"?ve(r):P(r(u)),y=new w(o,function(){y.unsubscribe(),s()});l.subscribe(y)}else s()},s=function(){var l=!1;a=i.subscribe(new w(o,void 0,function(){++u<t?a?c():l=!0:o.complete()})),l&&c()};s()})}function pu(e){return E(function(n,t){var r,i=!1,o,u=!1,a=!1,c=function(){return a&&u&&(t.complete(),!0)},s=function(){return o||(o=new V,e(o).subscribe(new w(t,function(){r?l():i=!0},function(){u=!0,c()}))),o},l=function(){a=!1,r=n.subscribe(new w(t,void 0,function(){a=!0,!c()&&s().next()})),i&&(r.unsubscribe(),r=null,i=!1,l())};l()})}function mu(e){e===void 0&&(e=1/0);var n;e&&typeof e=="object"?n=e:n={count:e};var t=n.count,r=t===void 0?1/0:t,i=n.delay,o=n.resetOnSuccess,u=o===void 0?!1:o;return r<=0?q:E(function(a,c){var s=0,l,y=function(){var h=!1;l=a.subscribe(new w(c,function(b){u&&(s=0),c.next(b)},void 0,function(b){if(s++<r){var f=function(){l?(l.unsubscribe(),l=null,y()):h=!0};if(i!=null){var d=typeof i=="number"?ve(i):P(i(b,s)),_=new w(c,function(){_.unsubscribe(),f()},function(){c.complete()});d.subscribe(_)}else f()}else c.error(b)})),h&&(l.unsubscribe(),l=null,y())};y()})}function yu(e){return E(function(n,t){var r,i=!1,o,u=function(){r=n.subscribe(new w(t,void 0,void 0,function(a){o||(o=new V,e(o).subscribe(new w(t,function(){return r?u():i=!0}))),o&&o.next(a)})),i&&(r.unsubscribe(),r=null,i=!1,u())};u()})}function vr(e){return E(function(n,t){var r=!1,i=null;n.subscribe(new w(t,function(u){r=!0,i=u}));var o=function(){if(r){r=!1;var u=i;i=null,t.next(u)}};e.subscribe(new w(t,o,D))})}function bu(e,n){return n===void 0&&(n=Q),vr(Qt(e,n))}function hr(e,n){return E(nr(e,n,arguments.length>=2,!0))}function gu(e,n){return n===void 0&&(n=function(t,r){return t===r}),E(function(t,r){var i=pr(),o=pr(),u=function(c){r.next(c),r.complete()},a=function(c,s){var l=new w(r,function(y){var h=s.buffer,b=s.complete;h.length===0?b?u(!1):c.buffer.push(y):!n(y,h.shift())&&u(!1)},function(){c.complete=!0;var y=s.complete,h=s.buffer;y&&u(h.length===0),l==null||l.unsubscribe()});return l};t.subscribe(a(i,o)),e.subscribe(a(o,i))})}function pr(){return{buffer:[],complete:!1}}function mr(e){e===void 0&&(e={});var n=e.connector,t=n===void 0?function(){return new V}:n,r=e.resetOnError,i=r===void 0?!0:r,o=e.resetOnComplete,u=o===void 0?!0:o,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(s){var l=null,y=null,h=null,b=0,f=!1,d=!1,_=function(){y==null||y.unsubscribe(),y=null},T=function(){_(),l=h=null,f=d=!1},I=function(){var O=l;T(),O==null||O.unsubscribe()};return E(function(O,N){b++,!d&&!f&&_();var U=h=h!=null?h:t();N.add(function(){b--,b===0&&!d&&!f&&(y=Wn(I,c))}),U.subscribe(N),l||(l=new Ae({next:function(W){return U.next(W)},error:function(W){d=!0,_(),y=Wn(T,i,W),U.error(W)},complete:function(){f=!0,_(),y=Wn(T,u),U.complete()}}),X(O).subscribe(l))})(s)}}function Wn(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return n===!0?(e(),null):n===!1?null:n.apply(void 0,m.exports.__spreadArray([],m.exports.__read(t))).pipe(xe(1)).subscribe(function(){return e()})}function wu(e,n,t){var r,i,o,u=!1;return e&&typeof e=="object"?(o=(r=e.bufferSize)!==null&&r!==void 0?r:1/0,n=(i=e.windowTime)!==null&&i!==void 0?i:1/0,u=!!e.refCount,t=e.scheduler):o=e!=null?e:1/0,mr({connector:function(){return new gn(o,n,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function _u(e){return E(function(n,t){var r=!1,i,o=!1,u=0;n.subscribe(new w(t,function(a){o=!0,(!e||e(a,u++,n))&&(r&&t.error(new $t("Too many matching values")),r=!0,i=a)},function(){r?(t.next(i),t.complete()):t.error(o?new Wt("No matching values"):new fe)}))})}function Su(e){return he(function(n,t){return e<=t})}function xu(e){return e<=0?q:E(function(n,t){var r=new Array(e),i=0;return n.subscribe(new w(t,function(o){var u=i++;if(u<e)r[u]=o;else{var a=u%e,c=r[a];r[a]=o,t.next(c)}})),function(){r=null}})}function Eu(e){return E(function(n,t){var r=!1,i=new w(t,function(){i==null||i.unsubscribe(),r=!0},D);P(e).subscribe(i),n.subscribe(new w(t,function(o){return r&&t.next(o)}))})}function Tu(e){return E(function(n,t){var r=!1,i=0;n.subscribe(new w(t,function(o){return(r||(r=!e(o,i++)))&&t.next(o)}))})}function Au(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=ie(e);return E(function(r,i){(t?Pe(e,r,t):Pe(e,r)).subscribe(i)})}function Fe(e,n){return E(function(t,r){var i=null,o=0,u=!1,a=function(){return u&&!i&&r.complete()};t.subscribe(new w(r,function(c){i==null||i.unsubscribe();var s=0,l=o++;P(e(c,l)).subscribe(i=new w(r,function(y){return r.next(n?n(c,y,l,s++):y)},function(){i=null,a()}))},function(){u=!0,a()}))})}function Iu(){return Fe(q)}function ju(e,n){return j(n)?Fe(function(){return e},n):Fe(function(){return e})}function Ou(e,n){return E(function(t,r){var i=n;return Fe(function(o,u){return e(i,o,u)},function(o,u){return i=u,u})(t).subscribe(r),function(){i=null}})}function Pu(e){return E(function(n,t){P(e).subscribe(new w(t,function(){return t.complete()},D)),!t.closed&&n.subscribe(t)})}function Cu(e,n){return n===void 0&&(n=!1),E(function(t,r){var i=0;t.subscribe(new w(r,function(o){var u=e(o,i++);(u||n)&&r.next(o),!u&&r.complete()}))})}function Mu(e,n,t){var r=j(e)||n||t?{next:e,error:n,complete:t}:e;return r?E(function(i,o){var u;(u=r.subscribe)===null||u===void 0||u.call(r);var a=!0;i.subscribe(new w(o,function(c){var s;(s=r.next)===null||s===void 0||s.call(r,c),o.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},function(c){var s;a=!1,(s=r.error)===null||s===void 0||s.call(r,c),o.error(c)},function(){var c,s;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(s=r.finalize)===null||s===void 0||s.call(r)}))}):q}var yr={leading:!0,trailing:!1};function br(e,n){return n===void 0&&(n=yr),E(function(t,r){var i=n.leading,o=n.trailing,u=!1,a=null,c=null,s=!1,l=function(){c==null||c.unsubscribe(),c=null,o&&(b(),s&&r.complete())},y=function(){c=null,s&&r.complete()},h=function(f){return c=P(e(f)).subscribe(new w(r,l,y))},b=function(){if(u){u=!1;var f=a;a=null,r.next(f),!s&&h(f)}};t.subscribe(new w(r,function(f){u=!0,a=f,!(c&&!c.closed)&&(i?b():h(f))},function(){s=!0,!(o&&u&&c&&!c.closed)&&r.complete()}))})}function Fu(e,n,t){n===void 0&&(n=Q),t===void 0&&(t=yr);var r=ve(e,n);return br(function(){return r},t)}function Ru(e){return e===void 0&&(e=Q),function(n){return Ce(function(){return n.pipe(hr(function(t,r){var i=t.current;return{value:r,current:e.now(),last:i}},{current:e.now(),value:void 0,last:void 0}),ue(function(t){var r=t.current,i=t.last,o=t.value;return new ku(o,r-i)}))})}}var ku=function(){function e(n,t){this.value=n,this.interval=t}return e}();function Nu(e,n,t){var r,i,o;if(t=t!=null?t:En,Pn(e)?r=e:typeof e=="number"&&(i=e),n)o=function(){return n};else throw new TypeError("No observable provided to switch to");if(r==null&&i==null)throw new TypeError("No timeout provided.");return Ut({first:r,each:i,scheduler:t,with:o})}function Lu(e){return e===void 0&&(e=He),ue(function(n){return{value:n,timestamp:e.now()}})}function Du(e){return E(function(n,t){var r=new V;t.next(r.asObservable());var i=function(o){r.error(o),t.error(o)};return n.subscribe(new w(t,function(o){return r==null?void 0:r.next(o)},function(){r.complete(),t.complete()},i)),e.subscribe(new w(t,function(){r.complete(),t.next(r=new V)},D,i)),function(){r==null||r.unsubscribe(),r=null}})}function Wu(e,n){n===void 0&&(n=0);var t=n>0?n:e;return E(function(r,i){var o=[new V],u=[],a=0;i.next(o[0].asObservable()),r.subscribe(new w(i,function(c){var s,l;try{for(var y=m.exports.__values(o),h=y.next();!h.done;h=y.next()){var b=h.value;b.next(c)}}catch(_){s={error:_}}finally{try{h&&!h.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}var f=a-e+1;if(f>=0&&f%t==0&&o.shift().complete(),++a%t==0){var d=new V;o.push(d),i.next(d.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(c){for(;o.length>0;)o.shift().error(c);i.error(c)},function(){u=null,o=null}))})}function $u(e){for(var n,t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=(n=ie(r))!==null&&n!==void 0?n:Q,u=(t=r[0])!==null&&t!==void 0?t:null,a=r[1]||1/0;return E(function(c,s){var l=[],y=!1,h=function(_){var T=_.window,I=_.subs;T.complete(),I.unsubscribe(),re(l,_),y&&b()},b=function(){if(l){var _=new G;s.add(_);var T=new V,I={window:T,subs:_,seen:0};l.push(I),s.next(T.asObservable()),B(_,o,function(){return h(I)},e)}};u!==null&&u>=0?B(s,o,b,u,!0):y=!0,b();var f=function(_){return l.slice().forEach(_)},d=function(_){f(function(T){var I=T.window;return _(I)}),_(s),s.unsubscribe()};return c.subscribe(new w(s,function(_){f(function(T){T.window.next(_),a<=++T.seen&&h(T)})},function(){return d(function(_){return _.complete()})},function(_){return d(function(T){return T.error(_)})})),function(){l=null}})}function Vu(e,n){return E(function(t,r){var i=[],o=function(u){for(;0<i.length;)i.shift().error(u);r.error(u)};P(e).subscribe(new w(r,function(u){var a=new V;i.push(a);var c=new G,s=function(){re(i,a),a.complete(),c.unsubscribe()},l;try{l=P(n(u))}catch(y){o(y);return}r.next(a.asObservable()),c.add(l.subscribe(new w(r,s,D,o)))},D)),t.subscribe(new w(r,function(u){var a,c,s=i.slice();try{for(var l=m.exports.__values(s),y=l.next();!y.done;y=l.next()){var h=y.value;h.next(u)}}catch(b){a={error:b}}finally{try{y&&!y.done&&(c=l.return)&&c.call(l)}finally{if(a)throw a.error}}},function(){for(;0<i.length;)i.shift().complete();r.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}function Uu(e){return E(function(n,t){var r,i,o=function(a){r.error(a),t.error(a)},u=function(){i==null||i.unsubscribe(),r==null||r.complete(),r=new V,t.next(r.asObservable());var a;try{a=P(e())}catch(c){o(c);return}a.subscribe(i=new w(t,u,u,o))};u(),n.subscribe(new w(t,function(a){return r.next(a)},function(){r.complete(),t.complete()},o,function(){i==null||i.unsubscribe(),r=null}))})}function qu(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Oe(e);return E(function(r,i){for(var o=e.length,u=new Array(o),a=e.map(function(){return!1}),c=!1,s=function(y){P(e[y]).subscribe(new w(i,function(h){u[y]=h,!c&&!a[y]&&(a[y]=!0,(c=a.every(q))&&(a=null))},D))},l=0;l<o;l++)s(l);r.subscribe(new w(i,function(y){if(c){var h=m.exports.__spreadArray([y],m.exports.__read(u));i.next(t?t.apply(void 0,m.exports.__spreadArray([],m.exports.__read(h))):h)}}))})}function zu(e){return rr(Rn,e)}function Gu(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return E(function(t,r){Rn.apply(void 0,m.exports.__spreadArray([t],m.exports.__read(e))).subscribe(r)})}function Bu(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Gu.apply(void 0,m.exports.__spreadArray([],m.exports.__read(e)))}var Hu=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Observable:F,ConnectableObservable:Be,observable:Ge,animationFrames:ui,Subject:V,BehaviorSubject:yt,ReplaySubject:gn,AsyncSubject:wn,asap:hi,asapScheduler:wt,async:En,asyncScheduler:Q,queue:yi,queueScheduler:_t,animationFrame:wi,animationFrameScheduler:St,VirtualTimeScheduler:_i,VirtualAction:xt,Scheduler:xn,Subscription:G,Subscriber:ze,Notification:Ke,get NotificationKind(){return jn},pipe:bn,noop:D,identity:q,isObservable:ki,lastValueFrom:Ni,firstValueFrom:Li,ArgumentOutOfRangeError:On,EmptyError:fe,NotFoundError:Wt,ObjectUnsubscribedError:pt,SequenceError:$t,TimeoutError:Vt,UnsubscriptionError:Ve,bindCallback:Vi,bindNodeCallback:Ui,combineLatest:Gt,concat:Pe,connectable:Ji,defer:Ce,empty:Si,forkJoin:Qi,from:X,fromEvent:Fn,fromEventPattern:Jt,generate:ro,iif:io,interval:Qt,merge:oo,never:uo,of:In,onErrorResumeNext:so,pairs:lo,partition:vo,race:ho,range:po,throwError:Lt,timer:ve,using:mo,zip:Rn,scheduled:Nt,EMPTY:Z,NEVER:Zt,config:oe,audit:Kt,auditTime:yo,buffer:bo,bufferCount:go,bufferTime:wo,bufferToggle:_o,bufferWhen:So,catchError:er,combineAll:Eo,combineLatestAll:ir,combineLatestWith:To,concatAll:Mn,concatMap:kn,concatMapTo:Ao,concatWith:jo,connect:Nn,count:Co,debounce:Mo,debounceTime:Fo,defaultIfEmpty:tn,delay:Ro,delayWhen:Ln,dematerialize:ko,distinct:No,distinctUntilChanged:cr,distinctUntilKeyChanged:Do,elementAt:$o,endWith:Vo,every:Uo,exhaust:qo,exhaustAll:sr,exhaustMap:lr,expand:zo,filter:he,finalize:Go,find:Bo,findIndex:Ho,first:Yo,groupBy:Jo,ignoreElements:ur,isEmpty:Zo,last:Xo,map:ue,mapTo:ar,materialize:Ko,max:eu,mergeAll:nn,flatMap:nu,mergeMap:K,mergeMapTo:tu,mergeScan:ru,mergeWith:ou,min:uu,multicast:Dn,observeOn:Ze,pairwise:au,pluck:cu,publish:su,publishBehavior:lu,publishLast:fu,publishReplay:du,raceWith:vu,reduce:Me,repeat:hu,repeatWhen:pu,retry:mu,retryWhen:yu,refCount:dt,sample:vr,sampleTime:bu,scan:hr,sequenceEqual:gu,share:mr,shareReplay:wu,single:_u,skip:Su,skipLast:xu,skipUntil:Eu,skipWhile:Tu,startWith:Au,subscribeOn:Xe,switchAll:Iu,switchMap:Fe,switchMapTo:ju,switchScan:Ou,take:xe,takeLast:dr,takeUntil:Pu,takeWhile:Cu,tap:Mu,throttle:br,throttleTime:Fu,throwIfEmpty:rn,timeInterval:Ru,timeout:Ut,timeoutWith:Nu,timestamp:Lu,toArray:tr,window:Du,windowCount:Wu,windowTime:$u,windowToggle:Vu,windowWhen:Uu,withLatestFrom:qu,zipAll:zu,zipWith:Bu}),$n=Bn(Hu),on={};Object.defineProperty(on,"__esModule",{value:!0});on.componentRegistry=void 0;const Yu=new class{constructor(){J(this,"globalStyles");J(this,"style_registry");J(this,"isRootNodeSet");J(this,"globalStyleTag");J(this,"getComputedCss",(e="")=>{let n=[];const t=new CSSStyleSheet;if(t.insertRule(":host { display: block; }"),n=[this.globalStyles,t],e){const r=new CSSStyleSheet;r.replace(e),n.push(r)}return n});try{this.globalStyles=new CSSStyleSheet}catch{this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}};on.componentRegistry=Yu;var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.render=pe.html=void 0;const{html:Ju,render:Qu}=(()=>{const e=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,n=/<[a-z][^>]+$/i,t="attr",r=/^attr([^ ]+)/,i="insertNode",o=/^insertNode([^ ]+)/,u=h=>{const b={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let f=JSON.stringify(h);const d=T=>b[T]||T;return f=(T=>T.replace(/[&<>\(\)]/g,d))(f),JSON.parse(f)},a=h=>{const b=document.createElement("template");return b.innerHTML=h,b.content},c=(h,b)=>{const f=document.createTreeWalker(h,NodeFilter.SHOW_ELEMENT,null);let d=f.nextNode();for(;d;){if(d.hasAttributes()){const _=Array.from(d.attributes).filter(T=>r.test(T.nodeName));for(const{nodeName:T,nodeValue:I}of _){const O=r.exec(T)[1];switch(!0){case/^on+/.test(I):{const N=I.slice(2).toLowerCase();d.removeEventListener(N,b[O]),d.addEventListener(N,b[O]),(d.eventListenersMap||(d.eventListenersMap={}))[N]=b[O];break}case/ref/.test(I):{b[O](d);break}case/^data-+/.test(I):{d.setAttribute(`data-${I}`,u(b[O]));break}case/^aria-+/.test(I):{d.setAttribute(`aria-${I}`,u(b[O]));break}case/class/.test(I):{b[O]?d.classList.add(...b[O].split(" ")):d.setAttribute("class","");break}case/value/.test(I):{d.value=u(b[O]);break}case/disabled/.test(I):case/checked/.test(I):{b[O]?d.setAttribute(I,b[O]):d.removeAttribute(I);break}default:d.setAttribute(I,u(b[O]))}d.removeAttribute(T)}}d=f.nextNode()}},s=(h,b)=>{const f=document.createTreeWalker(h,NodeFilter.SHOW_COMMENT,null);let d=f.nextNode(),_;for(;d;){if(_=o.exec(d.data)){const T=Array.isArray(b[_[1]])?b[_[1]]:[b[_[1]]];d.replaceWith(...T),f.currentNode=h}d=f.nextNode()}};return{html:(h,...b)=>{let f="";const{length:d}=h;for(let T=1;T<d;T++){const I=b[T-1];let O=!1;f+=h[T-1],e.test(f)&&n.test(f)&&(f=f.replace(e,(N,U,W)=>`${t}${T-1}=${W||'"'}${U}${W?"":'"'}`),O=!0),O||(Array.isArray(I)||I instanceof DocumentFragment?f+=`<!--${i}${T-1}-->`:f+=I)}f+=h[d-1];const _=a(f.trim());return c(_,b),s(_,b),_},render:(h,b)=>{h.textContent="",h.appendChild(b)}}})();pe.html=Ju;pe.render=Qu;var Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.Renderer=void 0;class Zu{constructor(){J(this,"shadowRoot");J(this,"update");J(this,"emitEvent")}}Re.Renderer=Zu;var $={};Object.defineProperty($,"__esModule",{value:!0});$.CSS_SHEET_NOT_SUPPORTED=$.klass=$.wrapIntoObservable=$.isPromise=$.isObservable=$.isUndefined=$.isFunction=$.isObject=void 0;const gr=$n,Xu=Symbol("klass");$.klass=Xu;const Ku=e=>e!==null&&typeof e=="object";$.isObject=Ku;const ea=e=>typeof e=="function";$.isFunction=ea;const na=e=>typeof e=="undefined";$.isUndefined=na;const wr=e=>!!e&&typeof e.subscribe=="function";$.isObservable=wr;const _r=e=>!!e&&typeof e.then=="function";$.isPromise=_r;const ta=e=>wr(e)?e:_r(e)?(0,gr.from)(Promise.resolve(e)):(0,gr.of)(e);$.wrapIntoObservable=ta;const ra=(()=>{try{return new CSSStyleSheet,!1}catch{return!0}})();$.CSS_SHEET_NOT_SUPPORTED=ra;Object.defineProperty($e,"__esModule",{value:!0});$e.registerElement=void 0;const Sr=ce,xr=$n,me=on,ia=pe,oa=Te,ua=Re,Vn=$,Er="data-compid",aa={selector:"",root:!1,styles:""},Tr=(e,n=null)=>{const t=document.createElement("style");return t.innerHTML=e,n&&n.appendChild(t),t},ca=(e,n)=>(e&&(e=n+" "+e.toString().replace("}",` } ${n} `)),e),sa=(e,n,t)=>{var r,i,o,u,a;if(e=Le(Le({},aa),e),e.styles=e.styles.toString(),!Sr.isNode){if(e.root&&!me.componentRegistry.isRootNodeSet)me.componentRegistry.isRootNodeSet=!0,e.styles&&(Tr(e.styles,document.head),me.componentRegistry.globalStyles.replace(e.styles));else if(e.root&&me.componentRegistry.isRootNodeSet)throw Error("Cannot register duplicate root component in "+e.selector+" component")}window.customElements.define(e.selector,(a=class extends HTMLElement{constructor(){super();we(this,r,void 0);we(this,i,void 0);we(this,o,new xr.Subscription);we(this,u,null);J(this,"eventListenersMap");if(Ee(this,i,this.attachShadow({mode:"open"})),!Vn.CSS_SHEET_NOT_SUPPORTED){const c=Sr.isNode?[]:me.componentRegistry.getComputedCss(e.styles);R(this,i).adoptedStyleSheets=c}this.update=this.update.bind(this),this.emitEvent=this.emitEvent.bind(this),this.setProps=this.setProps.bind(this),this.getInstance=this.getInstance.bind(this)}emulateComponent(){if(Vn.CSS_SHEET_NOT_SUPPORTED&&e.styles){const c=new Date().getTime()+Math.floor(Math.random()*1e3+1),s=ca(e.styles,`[${Er}="${c.toString()}"]`);Ee(this,u,Tr(s)),this.setAttribute(Er,c.toString())}}connectedCallback(){this.emulateComponent();const c=new ua.Renderer;c.update=this.update,c.shadowRoot=R(this,i),c.emitEvent=this.emitEvent,Ee(this,r,(0,oa.instantiate)(n,t,c)),R(this,r).beforeMount&&R(this,r).beforeMount(),this.update(),R(this,r).mount&&R(this,r).mount(),R(this,o).add((0,xr.fromEvent)(window,"onLanguageChange").subscribe(()=>{this.update()}))}update(){(0,ia.render)(R(this,i),R(this,r).render.bind(R(this,r))()),Vn.CSS_SHEET_NOT_SUPPORTED&&(e.styles&&R(this,i).insertBefore(R(this,u),R(this,i).childNodes[0]),me.componentRegistry.globalStyleTag&&R(this,i).insertBefore(document.importNode(me.componentRegistry.globalStyleTag,!0),R(this,i).childNodes[0]))}emitEvent(c,s,l=!0){const y=new CustomEvent(c,{detail:s,bubbles:l});this.dispatchEvent(y)}setProps(c){for(const[s,l]of Object.entries(c))R(this,r)[s]=l;R(this,r).onPropsChanged&&R(this,r).onPropsChanged(),this.update()}getInstance(){return R(this,r)}disconnectedCallback(){if(R(this,o).unsubscribe(),R(this,u)&&R(this,u).remove(),R(this,r).unmount&&R(this,r).unmount(),this.eventListenersMap)for(const[c,s]of Object.entries(this.eventListenersMap))this.removeEventListener(c,s);this.eventListenersMap=null}},r=new WeakMap,i=new WeakMap,o=new WeakMap,u=new WeakMap,a))};$e.registerElement=sa;Object.defineProperty(ee,"__esModule",{value:!0});ee.InjectionToken=ee.Injectable=ee.Component=void 0;const la=qr,fa=Te,da=$e,Ar=ae,Ir=e=>(la.Reflection.getMetadata("design:paramtypes",e)||[]).map(t=>t.name),va=e=>n=>{if(e.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");if(!window.customElements.get(e.selector)){const t=Ir(n);n.prototype.selector=e.selector,(0,da.registerElement)(e,n,t)}};ee.Component=va;const ha=()=>e=>{const n=Ir(e),t=(0,fa.instantiate)(e,n);Ar.Injector.register(e.name,t)};ee.Injectable=ha;const pa=(e,n)=>{Ar.Injector.register(e,n)};ee.InjectionToken=pa;var un={};Object.defineProperty(un,"__esModule",{value:!0});un.DomTransition=void 0;const jr=m.exports,ma=$n,ya=ee;let Un=class{constructor(){J(this,"transition","");this.whichTransitionEnd()}whichTransitionEnd(){const t=document.createElement("div").style,r={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(const i in r)if(typeof t[i]!="undefined"){this.transition=r[i];break}}onTransitionEnd(n,t,r){let i=!1,o=null;const u=()=>{i||(i=!0,t&&t(),o.unsubscribe(),o=null)};o=(0,ma.fromEvent)(n,this.transition).subscribe(()=>{u()}),setTimeout(u,r)}};Un=(0,jr.__decorate)([(0,ya.Injectable)(),(0,jr.__metadata)("design:paramtypes",[])],Un);un.DomTransition=Un;var Or={},an={},cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.useState=void 0;const ba=$,ga=e=>{const n=e;return[n,r=>{let i;(0,ba.isFunction)(r)?i=r(n):i=r,Object.assign(n,i)}]};cn.useState=ga;Object.defineProperty(an,"__esModule",{value:!0});an.useFormFields=void 0;const wa=cn,_a=e=>{let n;switch(e.nodeName&&e.nodeName.toLowerCase()){case"input":case"textarea":{["radio","checkbox"].includes(e.type)?n=e.checked?e.value!==null&&e.value!=="on"?e.value:!0:!1:n=e.value;break}case"select":{e.type==="select-one"?n=e.value:n=[...Array.from(e.options)].filter(i=>i.selected).map(i=>i.value);break}default:{n=e.value;break}}return n},Sa=e=>{const n=Le({},e),[t,r]=(0,wa.useState)(e);return[t,u=>a=>{const c=a.target,s=_a(c);r(()=>(t[u]=s,t))},()=>{Object.assign(t,n)}]};an.useFormFields=Sa;(function(e){Object.defineProperty(e,"__esModule",{value:!0});const n=m.exports;(0,n.__exportStar)(an,e)})(Or);var sn={},Pr={exports:{}};(function(e,n){(function(t,r){e.exports=r()})(typeof self!="undefined"?self:vn,function(){return function(t){var r={};function i(o){if(r[o])return r[o].exports;var u=r[o]={i:o,l:!1,exports:{}};return t[o].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=t,i.c=r,i.d=function(o,u,a){i.o(o,u)||Object.defineProperty(o,u,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,u){if(1&u&&(o=i(o)),8&u||4&u&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&u&&typeof o!="string")for(var c in o)i.d(a,c,function(s){return o[s]}.bind(null,c));return a},i.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(u,"a",u),u},i.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},i.p="",i(i.s=0)}([function(t,r,i){function o(f){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}i.r(r),i.d(r,"setDefaultLanguage",function(){return c}),i.d(r,"setTranslate",function(){return b});var u="pt",a={},c=function(f){u=f},s=function(f){return f!==null&&o(f)==="object"},l=function(f){return f!==null&&typeof f=="string"},y=function(f,d){return Object.prototype.hasOwnProperty.call(f,d)},h=function(f,d,_){var T;if(d){if(!isNaN(parseInt(d)))return d;if(f){for(var I,O=d.trim().split("."),N=0,U=O.length;N<U;N++)if((I=I?I[O[N]]:f[O[N]])&&!s(I))return I;T=I}}return T||_};Object.assign(String.prototype,{translate:function(){var f,d,_;arguments.length>0&&((arguments.length<=0?void 0:arguments[0])&&l(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0]),(arguments.length<=0?void 0:arguments[0])&&s(arguments.length<=0?void 0:arguments[0])&&(_=arguments.length<=0?void 0:arguments[0]),(arguments.length<=1?void 0:arguments[1])&&s(arguments.length<=1?void 0:arguments[1])&&(_=arguments.length<=1?void 0:arguments[1])),d||(d=u);var T=a[d]||{};y(T,this)&&(f=T[this]);var I=!f;if(I){var O=this,N=O.match(/(\[\d+])/g),U=O.match(/(\[\w+])/g);N&&(O=O.replace(/(\[\d+])/g,"[:num]")),U&&(O=O.replace(/(\[\w+])/g,"[:str]")),(f=h(T,this,""))&&(N&&N.forEach(function(W,Y){f=(f=(f=f.replace("{$".concat(Y+1,"+2}"),parseInt(W.match(/\d+/g),10)+2)).replace("{$".concat(Y+1,"+1}"),parseInt(W.match(/\d+/g),10)+1)).replace("$".concat(Y+1),W.match(/\d+/g))}),U&&U.forEach(function(W,Y){var ne=new RegExp("$".concat(Y),"g");f=f.replace(ne,W.match(/\w+/g))}))}return _&&(f=f.replace(/\{\s?([\w.]+)\s?\}/g,function(W,Y){var ne=Y.trim();return _[ne]||ne})),f||this}});var b=function(f,d){d||(d=u),a[d]||(a[d]={}),Object.assign(a[d],f)}}])})})(Pr);Object.defineProperty(sn,"__esModule",{value:!0});sn.TranslationService=void 0;const xa=m.exports,Cr=Pr.exports,Ea=ee;let qn=class{constructor(){J(this,"_defaultLanguage","")}setTranslate(n,t){(0,Cr.setTranslate)(n,t)}setDefaultLanguage(n){this._defaultLanguage=n,(0,Cr.setDefaultLanguage)(n);const t=new CustomEvent("onLanguageChange");window.dispatchEvent(t)}getCurrentLanguage(){return this._defaultLanguage}};qn=(0,xa.__decorate)([(0,Ea.Injectable)()],qn);sn.TranslationService=qn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapIntoObservable=e.Renderer=e.TranslationService=e.Injector=e.render=e.html=e.useFormFields=e.DomTransition=e.InjectionToken=e.Injectable=e.Component=void 0;var n=ee;Object.defineProperty(e,"Component",{enumerable:!0,get:function(){return n.Component}}),Object.defineProperty(e,"Injectable",{enumerable:!0,get:function(){return n.Injectable}}),Object.defineProperty(e,"InjectionToken",{enumerable:!0,get:function(){return n.InjectionToken}});var t=un;Object.defineProperty(e,"DomTransition",{enumerable:!0,get:function(){return t.DomTransition}});var r=Or;Object.defineProperty(e,"useFormFields",{enumerable:!0,get:function(){return r.useFormFields}});var i=pe;Object.defineProperty(e,"html",{enumerable:!0,get:function(){return i.html}}),Object.defineProperty(e,"render",{enumerable:!0,get:function(){return i.render}});var o=ae;Object.defineProperty(e,"Injector",{enumerable:!0,get:function(){return o.Injector}});var u=sn;Object.defineProperty(e,"TranslationService",{enumerable:!0,get:function(){return u.TranslationService}});var a=Re;Object.defineProperty(e,"Renderer",{enumerable:!0,get:function(){return a.Renderer}});var c=$;Object.defineProperty(e,"wrapIntoObservable",{enumerable:!0,get:function(){return c.wrapIntoObservable}})})(Hn);var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.TestBed=void 0;const Mr=ae;class Ta{static async MockComponent(n){const t=await Aa(n.prototype.selector);return{componentInstance:t.getInstance(),element:t.shadowRoot}}static MockService(n,t){return Mr.Injector.register(n,t),Mr.Injector.getService(n)}static RemoveComponent(n){document.body.removeChild(n.element.host)}}ln.TestBed=Ta;async function Aa(e){const n=document.createElement(e);return document.body.appendChild(n),new Promise(t=>{function r(){const i=document.querySelector(e);i?t(i):window.requestAnimationFrame(r)}r()})}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TestBed=e.wrapIntoObservable=e.useFormFields=e.TranslationService=e.Renderer=e.render=e.InjectionToken=e.Injector=e.Injectable=e.html=e.DomTransition=e.Component=void 0;var n=Hn;Object.defineProperty(e,"Component",{enumerable:!0,get:function(){return n.Component}}),Object.defineProperty(e,"DomTransition",{enumerable:!0,get:function(){return n.DomTransition}}),Object.defineProperty(e,"html",{enumerable:!0,get:function(){return n.html}}),Object.defineProperty(e,"Injectable",{enumerable:!0,get:function(){return n.Injectable}}),Object.defineProperty(e,"Injector",{enumerable:!0,get:function(){return n.Injector}}),Object.defineProperty(e,"InjectionToken",{enumerable:!0,get:function(){return n.InjectionToken}}),Object.defineProperty(e,"render",{enumerable:!0,get:function(){return n.render}}),Object.defineProperty(e,"Renderer",{enumerable:!0,get:function(){return n.Renderer}}),Object.defineProperty(e,"TranslationService",{enumerable:!0,get:function(){return n.TranslationService}}),Object.defineProperty(e,"useFormFields",{enumerable:!0,get:function(){return n.useFormFields}}),Object.defineProperty(e,"wrapIntoObservable",{enumerable:!0,get:function(){return n.wrapIntoObservable}});var t=ln;Object.defineProperty(e,"TestBed",{enumerable:!0,get:function(){return t.TestBed}})})(Dr);export{Dr as d};
